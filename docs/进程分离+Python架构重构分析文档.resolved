# è§†é¢‘é‡‡é›†ç¼–ç ä¸AIåˆ†æè¿›ç¨‹åˆ†ç¦»æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†åˆ†æå¦‚ä½•å°†å½“å‰é¡¹ç›®çš„**è§†é¢‘é‡‡é›†ç¼–ç **å’Œ**AIåˆ†æ**åŠŸèƒ½åˆ†ç¦»ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„C++è¿›ç¨‹ï¼Œå¹¶è®¾è®¡åˆé€‚çš„è¿›ç¨‹é—´é€šä¿¡æ¥å£ï¼Œæœ€ç»ˆé€šè¿‡Pybind11æš´éœ²ç»™Pythonå±‚è°ƒç”¨ã€‚

---

## ğŸ¯ æ ¸å¿ƒç›®æ ‡

### 1. è¿›ç¨‹åˆ†ç¦»éœ€æ±‚
- âœ… **RecorderProcessï¼ˆå½•åˆ¶è¿›ç¨‹ï¼‰**: è´Ÿè´£å±å¹•é‡‡é›†ã€è§†é¢‘ç¼–ç ã€å¸§å‘å¸ƒ
- âœ… **AnalyzerProcessï¼ˆåˆ†æè¿›ç¨‹ï¼‰**: è´Ÿè´£å¸§æ¥æ”¶ã€AIåˆ†æã€å…³é”®å¸§æ£€æµ‹
- âš ï¸ **å¿…é¡»åœ¨C++å±‚å®ç°è¿›ç¨‹åˆ†ç¦»**ï¼Œä¸å»¶è¿Ÿåˆ°Pythonå±‚

### 2. æ¥å£è®¾è®¡éœ€æ±‚
- è®¾è®¡æ¸…æ™°çš„C++æ¥å£ä¾›ä¸¤ä¸ªè¿›ç¨‹ä½¿ç”¨
- é€šè¿‡Pybind11å°†æ¥å£æš´éœ²ç»™Pythonå±‚
- Pythonå±‚å¯ç‹¬ç«‹æ§åˆ¶ä¸¤ä¸ªè¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ

### 3. Pythonæ¶æ„ä¼˜åŒ–
- è¯„ä¼°å½“å‰Pythonå±‚æ¶æ„è´¨é‡
- æå‡ºä¼˜åŒ–æ–¹æ¡ˆï¼ˆå¦‚æœ‰å¿…è¦ï¼‰

---

## ğŸ“Š å½“å‰æ¶æ„åˆ†æ

### å½“å‰ä»£ç ç»“æ„

```mermaid
graph TB
    subgraph "å½“å‰å•ä½“æ¶æ„"
        Python[Python Layer<br/>main.py + ViewModels]
        Pybind[Pybind11 Bindings<br/>Video_Recording_Moudle]
        SR[ScreenRecorder<br/>å•ä¸€ç±»é›†æˆæ‰€æœ‰åŠŸèƒ½]
        
        subgraph "ScreenRecorderå†…éƒ¨"
            Grabber[FrameGrabberThread<br/>é‡‡é›†çº¿ç¨‹]
            Encoder[FrameEncoder<br/>ç¼–ç çº¿ç¨‹]
            Publisher[FramePublisher<br/>ZMQå‘å¸ƒ]
            Subscriber[KeyFrameMetaDataSubscriber<br/>ZMQè®¢é˜…]
            RingBuffer[RingFrameBuffer<br/>ç¯å½¢ç¼“å†²]
        end
        
        KF[KeyFrameAnalyzerService<br/>ç‹¬ç«‹æœåŠ¡ä½†åŒè¿›ç¨‹]
    end
    
    Python --> Pybind
    Pybind --> SR
    SR --> Grabber
    SR --> Encoder
    SR --> Publisher
    SR --> Subscriber
    SR --> RingBuffer
    KF -.ZMQ.-> SR
    
    style SR fill:#ff9999
    style KF fill:#ff9999
```

### é—®é¢˜è¯Šæ–­

| é—®é¢˜ç±»å‹ | å…·ä½“è¡¨ç° | å½±å“ |
|---------|---------|------|
| **æ¶æ„è€¦åˆ** | [ScreenRecorder](file:///d:/%E7%BC%96%E7%A8%8B/%E9%A1%B9%E7%9B%AE/AiVideoAnalsysSystem/cpp/include/core/ScreenRecorder/ScreenRecorder.h#31-119)åŒæ—¶åŒ…å«é‡‡é›†ã€ç¼–ç ã€å‘å¸ƒã€æ¥æ”¶é€»è¾‘ | èŒè´£ä¸æ¸…æ™°ï¼Œéš¾ä»¥ç»´æŠ¤ |
| **è¿›ç¨‹å•ä½“** | æ‰€æœ‰åŠŸèƒ½è¿è¡Œåœ¨åŒä¸€è¿›ç¨‹ | æ— æ³•ç‹¬ç«‹éƒ¨ç½²ã€èµ„æºéš”ç¦»å·® |
| **ZMQå†—ä½™** | åŒè¿›ç¨‹å†…ä½¿ç”¨ZMQé€šä¿¡ | æ€§èƒ½å¼€é”€å¤§ï¼Œè®¾è®¡ä¸åˆç† |
| **Pythonå±‚è–„å¼±** | ä»…ç®€å•å°è£…C++è°ƒç”¨ | ä¸šåŠ¡é€»è¾‘ç¼ºå¤±ï¼Œæ¶æ„ä»·å€¼ä½ |

---

## ğŸ—ï¸ ç›®æ ‡æ¶æ„è®¾è®¡

### è¿›ç¨‹åˆ†ç¦»æ¶æ„å›¾

```mermaid
graph TB
    subgraph "Python Control Layer"
        PM[ProcessManager<br/>è¿›ç¨‹ç®¡ç†å™¨]
        RVM[RecorderViewModel<br/>å½•åˆ¶è§†å›¾æ¨¡å‹]
        AVM[AnalyzerViewModel<br/>åˆ†æè§†å›¾æ¨¡å‹]
    end
    
    subgraph "RecorderProcess (C++ ç‹¬ç«‹è¿›ç¨‹)"
        RP_Main[RecorderProcessMain<br/>è¿›ç¨‹å…¥å£]
        RP_API[RecorderAPI<br/>å¯¹å¤–æ¥å£]
        
        subgraph "Recording Pipeline"
            Grabber[FrameGrabber<br/>å±å¹•é‡‡é›†]
            Encoder[VideoEncoder<br/>H264ç¼–ç ]
            Writer[FileWriter<br/>æ–‡ä»¶å†™å…¥]
            Publisher[FramePublisher<br/>ZMQå‘å¸ƒ]
        end
    end
    
    subgraph "AnalyzerProcess (C++ ç‹¬ç«‹è¿›ç¨‹)"
        AP_Main[AnalyzerProcessMain<br/>è¿›ç¨‹å…¥å£]
        AP_API[AnalyzerAPI<br/>å¯¹å¤–æ¥å£]
        
        subgraph "Analysis Pipeline"
            Subscriber[FrameSubscriber<br/>ZMQè®¢é˜…]
            Detector[FrameAnalyzer<br/>ä¸‰ç»´æ£€æµ‹]
            Scorer[FrameScorer<br/>æ™ºèƒ½è¯„åˆ†]
            Selector[KeyFrameSelector<br/>å…³é”®å¸§é€‰æ‹©]
            KFPublisher[KeyFramePublisher<br/>ç»“æœå‘å¸ƒ]
        end
    end
    
    subgraph "IPC Communication"
        ZMQ_Frame[ZMQ Channel<br/>tcp://localhost:5555<br/>å¸§æ•°æ®æµ]
        ZMQ_KF[ZMQ Channel<br/>tcp://localhost:5556<br/>å…³é”®å¸§å…ƒæ•°æ®]
        SharedMem[Shared Memory<br/>å¯é€‰ï¼šå¤§å¸§ç¼“å†²]
    end
    
    PM --> RP_API
    PM --> AP_API
    RVM --> RP_API
    AVM --> AP_API
    
    RP_API --> RP_Main
    AP_API --> AP_Main
    
    Grabber --> Encoder --> Writer
    Encoder --> Publisher
    Publisher --> ZMQ_Frame
    ZMQ_Frame --> Subscriber
    
    Subscriber --> Detector --> Scorer --> Selector
    Selector --> KFPublisher
    KFPublisher --> ZMQ_KF
    ZMQ_KF -.-> Writer
    
    style RP_Main fill:#90EE90
    style AP_Main fill:#87CEEB
    style ZMQ_Frame fill:#FFD700
    style ZMQ_KF fill:#FFD700
```

---

## ğŸ”§ C++ å±‚è®¾è®¡æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶ + IPCï¼ˆæ¨èï¼‰

#### 1. RecorderProcess è®¾è®¡

**æ–‡ä»¶ç»“æ„**
```
cpp/
â”œâ”€â”€ processes/
â”‚   â”œâ”€â”€ recorder/
â”‚   â”‚   â”œâ”€â”€ RecorderProcessMain.cpp      # è¿›ç¨‹å…¥å£
â”‚   â”‚   â”œâ”€â”€ RecorderAPI.h/cpp            # å¯¹å¤–æ¥å£
â”‚   â”‚   â”œâ”€â”€ RecordingPipeline.h/cpp      # å½•åˆ¶ç®¡çº¿
â”‚   â”‚   â””â”€â”€ CMakeLists.txt               # ç‹¬ç«‹ç¼–è¯‘
```

**æ ¸å¿ƒæ¥å£è®¾è®¡**
```cpp
// RecorderAPI.h - å½•åˆ¶è¿›ç¨‹å¯¹å¤–æ¥å£
class RecorderAPI {
public:
    struct Config {
        std::string outputPath;
        int width, height, fps;
        std::string zmqPublishEndpoint = "tcp://*:5555";
        bool enableAudio = true;
    };
    
    // ç”Ÿå‘½å‘¨æœŸç®¡ç†
    bool initialize(const Config& config);
    bool start();
    void pause();
    void resume();
    void stop();
    void shutdown();
    
    // çŠ¶æ€æŸ¥è¯¢
    RecordingStatus getStatus() const;
    RecordingStats getStats() const;  // å¸§æ•°ã€æ–‡ä»¶å¤§å°ç­‰
    
    // å›è°ƒè®¾ç½®
    using StatusCallback = std::function<void(RecordingStatus)>;
    void setStatusCallback(StatusCallback cb);
};
```

**è¿›ç¨‹å…¥å£å®ç°**
```cpp
// RecorderProcessMain.cpp
int main(int argc, char* argv[]) {
    // 1. è§£æå‘½ä»¤è¡Œå‚æ•°ï¼ˆæˆ–ä»stdinè¯»å–JSONé…ç½®ï¼‰
    RecorderAPI::Config config = parseConfig(argc, argv);
    
    // 2. åˆå§‹åŒ–å½•åˆ¶API
    RecorderAPI recorder;
    if (!recorder.initialize(config)) {
        return -1;
    }
    
    // 3. å¯åŠ¨IPCæœåŠ¡å™¨ï¼ˆæ¥æ”¶Pythonæ§åˆ¶å‘½ä»¤ï¼‰
    IPCServer ipcServer;
    ipcServer.registerHandler("start", [&]() { recorder.start(); });
    ipcServer.registerHandler("stop", [&]() { recorder.stop(); });
    ipcServer.start("tcp://*:7777");  // æ§åˆ¶é€šé“
    
    // 4. ä¸»å¾ªç¯ï¼ˆç­‰å¾…é€€å‡ºä¿¡å·ï¼‰
    while (!shouldExit) {
        std::this_thread::sleep_for(100ms);
    }
    
    recorder.shutdown();
    return 0;
}
```

#### 2. AnalyzerProcess è®¾è®¡

**æ–‡ä»¶ç»“æ„**
```
cpp/
â”œâ”€â”€ processes/
â”‚   â”œâ”€â”€ analyzer/
â”‚   â”‚   â”œâ”€â”€ AnalyzerProcessMain.cpp      # è¿›ç¨‹å…¥å£
â”‚   â”‚   â”œâ”€â”€ AnalyzerAPI.h/cpp            # å¯¹å¤–æ¥å£
â”‚   â”‚   â”œâ”€â”€ AnalysisPipeline.h/cpp       # åˆ†æç®¡çº¿
â”‚   â”‚   â””â”€â”€ CMakeLists.txt               # ç‹¬ç«‹ç¼–è¯‘
```

**æ ¸å¿ƒæ¥å£è®¾è®¡**
```cpp
// AnalyzerAPI.h - åˆ†æè¿›ç¨‹å¯¹å¤–æ¥å£
class AnalyzerAPI {
public:
    struct Config {
        std::string zmqSubscribeEndpoint = "tcp://localhost:5555";
        std::string zmqPublishEndpoint = "tcp://*:5556";
        std::string modelBasePath;
        bool enableTextRecognition = false;
    };
    
    // ç”Ÿå‘½å‘¨æœŸç®¡ç†
    bool initialize(const Config& config);
    bool start();
    void stop();
    void shutdown();
    
    // çŠ¶æ€æŸ¥è¯¢
    AnalysisStatus getStatus() const;
    AnalysisStats getStats() const;  // å¤„ç†å¸§æ•°ã€å…³é”®å¸§æ•°ç­‰
    
    // å›è°ƒè®¾ç½®
    using KeyFrameCallback = std::function<void(const KeyFrameMetaData&)>;
    void setKeyFrameCallback(KeyFrameCallback cb);
};
```

#### 3. IPC é€šä¿¡å±‚è®¾è®¡

**æ§åˆ¶é€šé“ï¼ˆPython â†” C++ Processï¼‰**

ä½¿ç”¨ **ZMQ REQ/REP** æ¨¡å¼å®ç°å‘½ä»¤æ§åˆ¶ï¼š

```cpp
// IPCServer.h - è¿›ç¨‹æ§åˆ¶æœåŠ¡å™¨
class IPCServer {
public:
    using CommandHandler = std::function<std::string(const std::string& params)>;
    
    void registerHandler(const std::string& cmd, CommandHandler handler);
    void start(const std::string& endpoint);
    void stop();
    
private:
    zmq::context_t context_;
    zmq::socket_t socket_;
    std::map<std::string, CommandHandler> handlers_;
};
```

**æ•°æ®é€šé“ï¼ˆRecorderProcess â†’ AnalyzerProcessï¼‰**

å·²æœ‰çš„ ZMQ PUB/SUB æ¨¡å¼ï¼Œä¿æŒä¸å˜ï¼š
- `FramePublisher` (tcp://*:5555) â†’ `FrameSubscriber`
- `KeyFrameMetaDataPublisher` (tcp://*:5556) â†’ `KeyFrameMetaDataSubscriber`

---

### æ–¹æ¡ˆäºŒï¼šå…±äº«åº“ + å¤šè¿›ç¨‹å¯åŠ¨ï¼ˆå¤‡é€‰ï¼‰

å¦‚æœéœ€è¦æ›´çµæ´»çš„éƒ¨ç½²ï¼Œå¯ä»¥å°†æ ¸å¿ƒé€»è¾‘ç¼–è¯‘ä¸ºå…±äº«åº“ï¼š

```
libRecorderCore.so
libAnalyzerCore.so
```

Pythoné€šè¿‡ `subprocess` + `ctypes/Pybind11` åŠ è½½ã€‚

---

## ğŸ Python å±‚æ¶æ„é‡æ„

### å½“å‰Pythonå±‚é—®é¢˜

| æ–‡ä»¶ | é—®é¢˜ | ä¸¥é‡æ€§ |
|-----|------|--------|
| [main.py](file:///d:/%E7%BC%96%E7%A8%8B/%E9%A1%B9%E7%9B%AE/AiVideoAnalsysSystem/python/main.py) | ä»…åšQMLå¯åŠ¨ï¼Œæ— ä¸šåŠ¡é€»è¾‘ | ä¸­ |
| [video_viewmodel.py](file:///d:/%E7%BC%96%E7%A8%8B/%E9%A1%B9%E7%9B%AE/AiVideoAnalsysSystem/python/viewmodels/video_viewmodel.py) | ç›´æ¥è°ƒç”¨C++ï¼Œæ— çŠ¶æ€ç®¡ç† | é«˜ |
| [video_service.py](file:///d:/%E7%BC%96%E7%A8%8B/%E9%A1%B9%E7%9B%AE/AiVideoAnalsysSystem/python/services/video_service.py) | è–„å°è£…ï¼Œæ— ä»·å€¼ | é«˜ |

### é‡æ„åæ¶æ„

```mermaid
graph TB
    subgraph "Presentation Layer"
        QML[QML Views]
    end
    
    subgraph "ViewModel Layer"
        RVM[RecorderViewModel<br/>å½•åˆ¶çŠ¶æ€ç®¡ç†]
        AVM[AnalyzerViewModel<br/>åˆ†æçŠ¶æ€ç®¡ç†]
        HVM[HistoryViewModel<br/>å†å²è®°å½•]
    end
    
    subgraph "Service Layer"
        PM[ProcessManager<br/>è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸç®¡ç†]
        RS[RecorderService<br/>å½•åˆ¶ä¸šåŠ¡é€»è¾‘]
        AS[AnalyzerService<br/>åˆ†æä¸šåŠ¡é€»è¾‘]
        HS[HistoryService<br/>æ•°æ®æŒä¹…åŒ–]
    end
    
    subgraph "Infrastructure Layer"
        RPC[RecorderProcessClient<br/>Pybind11ç»‘å®š]
        APC[AnalyzerProcessClient<br/>Pybind11ç»‘å®š]
        DB[SQLite Database]
    end
    
    QML --> RVM
    QML --> AVM
    QML --> HVM
    
    RVM --> PM
    RVM --> RS
    AVM --> PM
    AVM --> AS
    HVM --> HS
    
    PM --> RPC
    PM --> APC
    RS --> RPC
    AS --> APC
    HS --> DB
    
    style PM fill:#FFD700
    style RPC fill:#90EE90
    style APC fill:#87CEEB
```

### æ ¸å¿ƒç±»è®¾è®¡

#### 1. ProcessManagerï¼ˆè¿›ç¨‹ç®¡ç†å™¨ï¼‰

```python
# services/process_manager.py
import subprocess
from pathlib import Path
from typing import Optional

class ProcessManager:
    """ç®¡ç†C++å­è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"""
    
    def __init__(self):
        self.recorder_process: Optional[subprocess.Popen] = None
        self.analyzer_process: Optional[subprocess.Popen] = None
        self.build_dir = Path(__file__).parent.parent.parent / "build" / "bin"
    
    def start_recorder(self, config: dict) -> bool:
        """å¯åŠ¨å½•åˆ¶è¿›ç¨‹"""
        exe_path = self.build_dir / "RecorderProcess.exe"
        cmd = [str(exe_path), "--config", json.dumps(config)]
        self.recorder_process = subprocess.Popen(cmd)
        return self._wait_for_ready("tcp://localhost:7777")
    
    def start_analyzer(self, config: dict) -> bool:
        """å¯åŠ¨åˆ†æè¿›ç¨‹"""
        exe_path = self.build_dir / "AnalyzerProcess.exe"
        cmd = [str(exe_path), "--config", json.dumps(config)]
        self.analyzer_process = subprocess.Popen(cmd)
        return self._wait_for_ready("tcp://localhost:7778")
    
    def stop_all(self):
        """åœæ­¢æ‰€æœ‰è¿›ç¨‹"""
        if self.recorder_process:
            self.recorder_process.terminate()
        if self.analyzer_process:
            self.analyzer_process.terminate()
```

#### 2. RecorderViewModelï¼ˆå½•åˆ¶è§†å›¾æ¨¡å‹ï¼‰

```python
# viewmodels/recorder_viewmodel.py
from PySide6.QtCore import QObject, Signal, Property

class RecorderViewModel(QObject):
    statusChanged = Signal(str)
    progressChanged = Signal(float)
    
    def __init__(self, process_manager: ProcessManager):
        super().__init__()
        self._pm = process_manager
        self._status = "idle"
        self._progress = 0.0
    
    @Property(str, notify=statusChanged)
    def status(self) -> str:
        return self._status
    
    @Slot()
    def startRecording(self):
        """QMLè°ƒç”¨ï¼šå¼€å§‹å½•åˆ¶"""
        config = {
            "outputPath": "output.mp4",
            "width": 1920,
            "height": 1080,
            "fps": 30
        }
        if self._pm.start_recorder(config):
            self._set_status("recording")
    
    def _set_status(self, status: str):
        self._status = status
        self.statusChanged.emit(status)
```

---

## ğŸ”Œ Pybind11 æ¥å£è®¾è®¡

### ç»‘å®šç­–ç•¥

ç”±äºè¿›ç¨‹å·²åˆ†ç¦»ï¼ŒPybind11ä¸å†ç›´æ¥ç»‘å®š[ScreenRecorder](file:///d:/%E7%BC%96%E7%A8%8B/%E9%A1%B9%E7%9B%AE/AiVideoAnalsysSystem/cpp/include/core/ScreenRecorder/ScreenRecorder.h#31-119)ç±»ï¼Œè€Œæ˜¯ç»‘å®š**è¿›ç¨‹æ§åˆ¶å®¢æˆ·ç«¯**ï¼š

```cpp
// bindings/recorder_bindings.cpp
#include <pybind11/pybind11.h>
#include "RecorderProcessClient.h"

namespace py = pybind11;

void bind_recorder_process(py::module& m) {
    py::class_<RecorderProcessClient>(m, "RecorderProcessClient")
        .def(py::init<>())
        .def("connect", &RecorderProcessClient::connect)
        .def("start", &RecorderProcessClient::start)
        .def("stop", &RecorderProcessClient::stop)
        .def("get_status", &RecorderProcessClient::getStatus);
}

PYBIND11_MODULE(recorder_module, m) {
    bind_recorder_process(m);
}
```

```cpp
// RecorderProcessClient.h - Pythonè°ƒç”¨çš„å®¢æˆ·ç«¯
class RecorderProcessClient {
public:
    bool connect(const std::string& endpoint);
    bool start();
    void stop();
    std::string getStatus();
    
private:
    zmq::socket_t socket_;  // REQ socket
};
```

---

## ğŸ“‹ å®æ–½è®¡åˆ’

### Phase 1: è¿›ç¨‹åˆ†ç¦»ï¼ˆ2-3å¤©ï¼‰

- [ ] 1.1 åˆ›å»º `RecorderProcessMain.cpp`
  - [ ] å®ç°å‘½ä»¤è¡Œå‚æ•°è§£æ
  - [ ] é›†æˆç°æœ‰ [ScreenRecorder](file:///d:/%E7%BC%96%E7%A8%8B/%E9%A1%B9%E7%9B%AE/AiVideoAnalsysSystem/cpp/include/core/ScreenRecorder/ScreenRecorder.h#31-119) é€»è¾‘
  - [ ] æ·»åŠ  IPC æ§åˆ¶æœåŠ¡å™¨
- [ ] 1.2 åˆ›å»º `AnalyzerProcessMain.cpp`
  - [ ] é›†æˆç°æœ‰ [KeyFrameAnalyzerService](file:///d:/%E7%BC%96%E7%A8%8B/%E9%A1%B9%E7%9B%AE/AiVideoAnalsysSystem/cpp/include/core/KeyFrame/KeyFrameAnalyzerService.h#62-63)
  - [ ] æ·»åŠ  IPC æ§åˆ¶æœåŠ¡å™¨
- [ ] 1.3 ä¿®æ”¹ CMakeLists.txt
  - [ ] æ·»åŠ ä¸¤ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ç›®æ ‡
  - [ ] é…ç½®ä¾èµ–å…³ç³»

### Phase 2: IPCæ¥å£å®ç°ï¼ˆ1-2å¤©ï¼‰

- [ ] 2.1 å®ç° `IPCServer` åŸºç¡€è®¾æ–½
- [ ] 2.2 å®ç° `RecorderProcessClient`
- [ ] 2.3 å®ç° `AnalyzerProcessClient`
- [ ] 2.4 å•å…ƒæµ‹è¯•ï¼ˆè¿›ç¨‹å¯åŠ¨ã€å‘½ä»¤å“åº”ï¼‰

### Phase 3: Pybind11ç»‘å®šï¼ˆ1å¤©ï¼‰

- [ ] 3.1 åˆ›å»ºæ–°çš„ç»‘å®šæ¨¡å—
  - [ ] `recorder_module`
  - [ ] `analyzer_module`
- [ ] 3.2 Pythonæµ‹è¯•è„šæœ¬éªŒè¯

### Phase 4: Pythonå±‚é‡æ„ï¼ˆ2-3å¤©ï¼‰

- [ ] 4.1 å®ç° `ProcessManager`
- [ ] 4.2 é‡æ„ `RecorderViewModel`
- [ ] 4.3 é‡æ„ `AnalyzerViewModel`
- [ ] 4.4 é›†æˆåˆ° QML

### Phase 5: é›†æˆæµ‹è¯•ï¼ˆ1-2å¤©ï¼‰

- [ ] 5.1 ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆå½•åˆ¶â†’åˆ†æâ†’å…³é”®å¸§ï¼‰
- [ ] 5.2 æ€§èƒ½æµ‹è¯•ï¼ˆè¿›ç¨‹é—´é€šä¿¡å¼€é”€ï¼‰
- [ ] 5.3 å¼‚å¸¸å¤„ç†æµ‹è¯•ï¼ˆè¿›ç¨‹å´©æºƒæ¢å¤ï¼‰

---

## âš ï¸ é£é™©ä¸æŒ‘æˆ˜

| é£é™© | å½±å“ | ç¼“è§£æªæ–½ |
|-----|------|---------|
| **ZMQé€šä¿¡å»¶è¿Ÿ** | å¸§ä¼ è¾“å¯èƒ½æˆä¸ºç“¶é¢ˆ | ä½¿ç”¨å…±äº«å†…å­˜ä¼˜åŒ–å¤§å¸§ä¼ è¾“ |
| **è¿›ç¨‹åŒæ­¥å¤æ‚** | å¯åŠ¨é¡ºåºã€å´©æºƒæ¢å¤ | å®ç°å¥å£®çš„è¿›ç¨‹ç›‘æ§æœºåˆ¶ |
| **è°ƒè¯•å›°éš¾** | å¤šè¿›ç¨‹è°ƒè¯•å¤æ‚ | æä¾›è¯¦ç»†æ—¥å¿—ã€æ”¯æŒå•è¿›ç¨‹æ¨¡å¼ |
| **Pythonå±‚é‡æ„** | å¯èƒ½å¼•å…¥æ–°Bug | å……åˆ†çš„å•å…ƒæµ‹è¯•è¦†ç›– |

---

## ğŸ¯ é¢„æœŸæ”¶ç›Š

### æ¶æ„å±‚é¢
- âœ… **èŒè´£æ¸…æ™°**: å½•åˆ¶ä¸åˆ†æå®Œå…¨è§£è€¦
- âœ… **ç‹¬ç«‹éƒ¨ç½²**: å¯å•ç‹¬å‡çº§æŸä¸ªè¿›ç¨‹
- âœ… **èµ„æºéš”ç¦»**: åˆ†æè¿›ç¨‹å´©æºƒä¸å½±å“å½•åˆ¶

### æ€§èƒ½å±‚é¢
- âœ… **å¹¶è¡Œå¤„ç†**: å½•åˆ¶å’Œåˆ†æçœŸæ­£å¹¶è¡Œ
- âœ… **èµ„æºä¼˜åŒ–**: å¯é’ˆå¯¹æ€§è°ƒæ•´è¿›ç¨‹ä¼˜å…ˆçº§

### å¼€å‘å±‚é¢
- âœ… **æ˜“äºæµ‹è¯•**: æ¯ä¸ªè¿›ç¨‹å¯ç‹¬ç«‹æµ‹è¯•
- âœ… **æ˜“äºç»´æŠ¤**: ä»£ç è¾¹ç•Œæ¸…æ™°

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [ZeroMQ Guide - Request-Reply Pattern](https://zguide.zeromq.org/docs/chapter2/)
- [Pybind11 Documentation - Class Bindings](https://pybind11.readthedocs.io/en/stable/classes.html)
- [Qt Process Management](https://doc.qt.io/qt-6/qprocess.html)
